CREATE TABLE tenants (\n    tenant_id SERIAL PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    email VARCHAR(255) UNIQUE NOT NULL,\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW(),\n    status VARCHAR(50) CHECK (status IN ('active', 'inactive'))\n);\n\nCREATE TABLE subscription_plans (\n    plan_id SERIAL PRIMARY KEY,\n    tenant_id INT REFERENCES tenants(tenant_id),\n    plan_name VARCHAR(255) NOT NULL,\n    price DECIMAL(10, 2) NOT NULL,\n    billing_cycle VARCHAR(50) CHECK (billing_cycle IN ('monthly', 'yearly')),\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n\nCREATE TABLE modules (\n    module_id SERIAL PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    description TEXT,\n    is_active BOOLEAN DEFAULT TRUE,\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n\nCREATE TABLE tenant_modules (\n    id SERIAL PRIMARY KEY,\n    tenant_id INT REFERENCES tenants(tenant_id),\n    module_id INT REFERENCES modules(module_id),\n    is_enabled BOOLEAN DEFAULT TRUE,\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n\nCREATE TABLE billing (\n    billing_id SERIAL PRIMARY KEY,\n    tenant_id INT REFERENCES tenants(tenant_id),\n    plan_id INT REFERENCES subscription_plans(plan_id),\n    billing_start_date TIMESTAMP,\n    billing_end_date TIMESTAMP,\n    status VARCHAR(50) CHECK (status IN ('paid', 'unpaid', 'pending')),\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n\nCREATE TABLE payments (\n    payment_id SERIAL PRIMARY KEY,\n    billing_id INT REFERENCES billing(billing_id),\n    amount DECIMAL(10, 2) NOT NULL,\n    payment_date TIMESTAMP,\n    payment_method VARCHAR(50),\n    status VARCHAR(50) CHECK (status IN ('completed', 'pending', 'failed')),\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n\nCREATE TABLE invoices (\n    invoice_id SERIAL PRIMARY KEY,\n    billing_id INT REFERENCES billing(billing_id),\n    invoice_number VARCHAR(255) UNIQUE NOT NULL,\n    amount_due DECIMAL(10, 2) NOT NULL,\n    amount_paid DECIMAL(10, 2),\n    due_date TIMESTAMP,\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n\nCREATE TABLE usage_tracking (\n    usage_id SERIAL PRIMARY KEY,\n    tenant_id INT REFERENCES tenants(tenant_id),\n    module_id INT REFERENCES modules(module_id),\n    usage_date TIMESTAMP,\n    usage_amount DECIMAL(10, 2),\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n\nCREATE TABLE analytics (\n    analytics_id SERIAL PRIMARY KEY,\n    tenant_id INT REFERENCES tenants(tenant_id),\n    module_id INT REFERENCES modules(module_id),\n    metric_type VARCHAR(255),\n    metric_value DECIMAL(10, 2),\n    recorded_at TIMESTAMP DEFAULT NOW(),\n    created_at TIMESTAMP DEFAULT NOW(),\n    updated_at TIMESTAMP DEFAULT NOW()\n);\n